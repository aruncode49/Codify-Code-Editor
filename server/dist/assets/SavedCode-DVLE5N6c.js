import{e as f,j as a,ak as v,al as D,am as C,an as b,ao as A,ap as N,aq as k,ar as w,r as n,a as S,u as _,as as E,c as g,ac as T,ad as L,_ as u}from"./index-D8Ssnc39.js";import{S as M}from"./square-pen-BBWe6QXc.js";import{L as z}from"./loader-2-CFzJA1lt.js";/**
 * @license lucide-react v0.334.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=f("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function F({children:i,handleDeleteCode:r}){return a.jsxs(v,{children:[i,a.jsxs(D,{children:[a.jsxs(C,{children:[a.jsx(b,{children:"Are you absolutely sure?"}),a.jsx(A,{children:"This action cannot be undone. This will permanently delete your saved code."})]}),a.jsxs(N,{children:[a.jsx(k,{children:"Cancel"}),a.jsx(w,{className:"bg-red-500 text-white hover:bg-red-600",onClick:r,children:"Delete"})]})]})]})}const $=()=>{const[i,r]=n.useState([]),[m,d]=n.useState(!1),o=S(),p=_();async function c(){var e,l;try{d(!0);const s=await g.get("/api/v1/code/saved");(e=s==null?void 0:s.data)!=null&&e.success&&r((l=s==null?void 0:s.data)==null?void 0:l.allCode)}catch(s){console.log(s)}finally{d(!1)}}function y(e){try{const l={title:e==null?void 0:e.title,_id:e==null?void 0:e._id};o(T(!0)),o(L(l)),p(`/compiler/${e==null?void 0:e._id}`)}catch(l){console.log(l.message)}}async function j(e){var l,s,x,h;try{const t=await g.delete(`/api/v1/code/delete/${e._id}`);(l=t==null?void 0:t.data)!=null&&l.success&&(u.success((s=t==null?void 0:t.data)==null?void 0:s.message),c())}catch(t){u.error((h=(x=t==null?void 0:t.response)==null?void 0:x.data)==null?void 0:h.message)}}return n.useEffect(()=>{c()},[]),i.length>0?a.jsx("div",{className:"fullscreen",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 gap-y-0 p-2 ",children:i.length&&i.map(e=>a.jsxs("div",{className:"background border border-gray-500 p-4 rounded m-2",children:[a.jsx("h1",{className:"text-gray-200 text-sm",children:e==null?void 0:e.title}),a.jsxs("div",{className:"flex items-center gap-3 mt-3 justify-center sm:justify-normal",children:[a.jsxs("button",{onClick:()=>y(e),className:"flex items-center gap-1 px-2 py-1 bg-[#2D9596] text-gray-300 hover:text-white rounded text-xs sm:text-sm",children:[a.jsx(M,{size:13}),"Edit"]}),a.jsx(F,{handleDeleteCode:()=>j(e),children:a.jsx(E,{asChild:!0,children:a.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-red-700 text-gray-300 hover:text-white rounded text-xs sm:text-sm",children:[a.jsx(q,{size:14}),"Delete"]})})})]})]},e==null?void 0:e._id))})}):a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:m?a.jsx("div",{children:a.jsx(z,{size:50,className:"animate-spin"})}):a.jsx("h1",{className:"text-lg font-semibold text-gray-200",children:"No Saved Code Found!"})})};export{$ as default};
