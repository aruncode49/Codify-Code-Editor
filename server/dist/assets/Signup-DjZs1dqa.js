import{r as n,u as N,a as b,b as w,j as e,N as S,L,c as m,_ as u,d as E}from"./index-D8Ssnc39.js";import{S as k,v as C}from"./validation-2VteD_eS.js";import{L as F}from"./loader-2-CFzJA1lt.js";const R=()=>{const[i,x]=n.useState(""),[l,p]=n.useState(""),[r,h]=n.useState(""),[g,o]=n.useState(!1),y=N(),v=b();if(w(s=>s.auth.isLogin))return e.jsx(S,{to:"/compiler"});async function f(){var s;try{const a=await m.post("/api/v1/auth/login",{username:l,password:r});(s=a==null?void 0:a.data)!=null&&s.success&&(u.success("User registered successfully!"),E(v),y("/compiler"))}catch{return}finally{return}}async function j(s){var a,c,d;s.preventDefault(),o(!0);try{if(C(i,l,r)){const t=await m.post("/api/v1/auth/signup",{email:i,username:l,password:r});(a=t==null?void 0:t.data)!=null&&a.success&&f()}}catch(t){u.error((d=(c=t==null?void 0:t.response)==null?void 0:c.data)==null?void 0:d.error)}finally{o(!1)}}return e.jsxs("div",{className:"mx-auto max-w-screen-xl px-4 py-16 sm:px-6 lg:px-8 fullscreen",children:[e.jsxs("div",{className:"mx-auto max-w-lg text-center",children:[e.jsx("h1",{className:"text-2xl font-bold sm:text-3xl",children:"Create Account"}),e.jsx("p",{className:"mt-4 text-gray-300",children:'"Join Codify now to unlock unlimited coding possibilities and embark on your journey with confidence."'})]}),e.jsxs("form",{action:"#",className:"mx-auto mb-0 mt-8 max-w-md space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Email"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"email",className:"w-full bg-gray-200 placeholder:text-gray-500 text-black rounded-lg p-4 pe-12 text-sm shadow-sm",placeholder:"Enter email",value:i,onChange:s=>x(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",className:"w-full bg-gray-200 placeholder:text-gray-500 text-black rounded-lg p-4 pe-12 text-sm shadow-sm",placeholder:"Enter username",value:l,onChange:s=>p(s.target.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"password",className:"w-full bg-gray-200 placeholder:text-gray-500 text-black rounded-lg p-4 pe-12 text-sm shadow-sm",placeholder:"Enter password",value:r,onChange:s=>h(s.target.value)})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-300",children:["Already have an account?",e.jsx(L,{to:"/login",className:"underline pl-1",href:"#",children:"Sign In"})]}),e.jsx(k,{handleSubmit:j,text:g?e.jsx(F,{className:"animate-spin"}):"Register",color:"bg-[#2D9596]",hoverColor:"hover:bg-[#237172]",px:"px-5",py:"py-3",type:"submit"})]})]})]})};export{R as default};
